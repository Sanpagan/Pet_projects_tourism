# Автоматическая предобработка отчетов отеля

### Цель проекта:
Автоматизировать ручную предобработку отчетов Property Management System (вариант ERP с усеченной функцией CRM системы для отелей) для последующего использования:
- в BI системе
- в центре конверсий Яндекс.Директа
- дальнейшей аналитике клиентской базы
- интеграции CRM-системы (в перспективе)

  ### Проблематика проекта:

Аналог ERP системы отеля – PMS Fidelio – объединяет в себе очень большой функционал, от работы с кассами и фискальниками и программирования ключей до распределения задач горничным и элементы CRM системы. Политика российского дистрибьютора ПО - максимальная закрытость продукта: не охотно делятся ключами API, а даже если их прогнуть, не предоставляют API документацию. Из-за чего интеграция с современными системами: телефонией, CRM, системами сквозной аналитики и BI практически невозможна.

**Задача проекта:** на базе 2 отчетов, выгружаемых из PMS Fidelio сформировать датасет для дальнейшего использования в маркетинге: BI-дашборда по клиентам, подгрузке к центру конверсий Яндекс.директа и удобного дальнейшего анализа.

Ранее датасет формирровался вручную в экселе, долго причесывался, в итоге полная аналитика по клиентам делалась раз в год из-за высоких трудозатрат. При смене методики расчета некоторых показателей, весь датасет необходимо было обрабатывать с нуля.

**Основные проблемы и ограничения источника данных:**
- В кастомном отчете по клиентам-броням неверно расчитывается стоимость заказа, поэтому нужно заново подтягивать данные по броням
- Отчет по броням "битый", при выгрузке слетают названия столбцов, есть пустые колонки, много пустых и служебных строк
- Многие данные о клиентах заполняются вручную, нужно предобработать телефонные номера, как ключевой идентификатор и привести в порядок географию, т.к. на базе неё строятся ключевые метрики.
- Необходимо обогатить данные о регионе по кодам номера телефона для улучшения полноты данных.
- Сегментация клиентов внутри системы (индивидуальные гости, корпоративные клиенты, спортивные события) не всегда корректна, нужно заново сегментировать клиентов по формальным признакам.
- Отчет по броням не выгружает полную информацию по отмененным броням
- Данные о дате и времени создания брони хранятся примерно 2,5 года. Для более старых броней их нет, но есть для отмены более старых броней ??
- Нужно сохранить структуру отчета аналогичной ручной предобработке в excel. Поэтому названия столбцов оставим на русском.

  ### Результат от внедрения
- Кратно сократились трудозатраты на ручную обработку данных: предобработка годового отчета вместо 2 недель занимает около 2 часов с учётом выгрузки данных из PMS Fidelio
- Сценарий предобработки адаптирован на 4 отеля
- Разработан дашборд на Tableau для визуализации портрета клиента и основных финансовых показателей в динамике
- Отчет по клиентам из ежегодного стал ежемесячным в формате дашборда
- Более полные данные о регионе: для отдельных выгрузок количество броней без присвоенного региона уменьшилось с 14% до 6%
- Закреплена методика сегментации гостей
